; A217324: Number of self-inverse permutations in S_n with longest increasing subsequence of length 4.
; Submitted by loader3229
; 1,4,19,69,265,929,3356,11626,41117,142206,499836,1734328,6099193,21282265,75125770,263906332,936517637,3313246237,11827430209,42139231729,151339387003,542857007499,1961171657524,7079621540798,25720257983591,93396276789196,341089744739939,1245305066152509,4570004132692593,16767769109368017,61808380250848730,227807796668220172,843159824675338637,3120469166009455109,11592588737235594535,43064732139214945451,160533154747240626903,598406083975837838583,2237680124880654314196,8367445168010489137878
; Formula: a(n) = c(n-4), b(n) = truncate((b(n-1)*((n-1)*((n-1)*(10*n+443)+6821)+34140)+c(n-1)*((n-1)*((n-1)*(2592*n+41472)+248832)+466560)+d(n-1)*((n-1)*((n-1)*(1776*n+32496)+220632)+473616)+e(n-1)*((n-1)*((n-1)*(-2818*n-62504)-504092)-1295376)+f(n-1)*((n-1)*((n-1)*(-1631*n-43606)-415444)-1262640)+f1(n-1)*((n-1)*((n-1)*(966*n+27327)+274617)+882360)+f2(n-1)*((n-1)*((n-1)*(399*n+13449)+159429)+608940)+f3(n-1)*((n-1)*((n-1)*(-210*n-7368)-90708)-360000)+f4(n-1)*((n-1)*((n-1)*(-3*n-222)-4440)-26280))/((n-1)*((n-1)*(n+47)+767)+4080)), b(9) = 3313246237, b(8) = 936517637, b(7) = 263906332, b(6) = 75125770, b(5) = 21282265, b(4) = 6099193, b(3) = 1734328, b(2) = 499836, b(1) = 142206, b(0) = 41117, c(n) = d(n-1), c(9) = 142206, c(8) = 41117, c(7) = 11626, c(6) = 3356, c(5) = 929, c(4) = 265, c(3) = 69, c(2) = 19, c(1) = 4, c(0) = 1, d(n) = e(n-1), d(9) = 499836, d(8) = 142206, d(7) = 41117, d(6) = 11626, d(5) = 3356, d(4) = 929, d(3) = 265, d(2) = 69, d(1) = 19, d(0) = 4, e(n) = f(n-1), e(9) = 1734328, e(8) = 499836, e(7) = 142206, e(6) = 41117, e(5) = 11626, e(4) = 3356, e(3) = 929, e(2) = 265, e(1) = 69, e(0) = 19, f(n) = f1(n-1), f(9) = 6099193, f(8) = 1734328, f(7) = 499836, f(6) = 142206, f(5) = 41117, f(4) = 11626, f(3) = 3356, f(2) = 929, f(1) = 265, f(0) = 69, f1(n) = f2(n-1), f1(9) = 21282265, f1(8) = 6099193, f1(7) = 1734328, f1(6) = 499836, f1(5) = 142206, f1(4) = 41117, f1(3) = 11626, f1(2) = 3356, f1(1) = 929, f1(0) = 265, f2(n) = f3(n-1), f2(9) = 75125770, f2(8) = 21282265, f2(7) = 6099193, f2(6) = 1734328, f2(5) = 499836, f2(4) = 142206, f2(3) = 41117, f2(2) = 11626, f2(1) = 3356, f2(0) = 929, f3(n) = f4(n-1), f3(9) = 263906332, f3(8) = 75125770, f3(7) = 21282265, f3(6) = 6099193, f3(5) = 1734328, f3(4) = 499836, f3(3) = 142206, f3(2) = 41117, f3(1) = 11626, f3(0) = 3356, f4(n) = b(n-1), f4(9) = 936517637, f4(8) = 263906332, f4(7) = 75125770, f4(6) = 21282265, f4(5) = 6099193, f4(4) = 1734328, f4(3) = 499836, f4(2) = 142206, f4(1) = 41117, f4(0) = 11626

#offset 4

mov $2,1
mov $3,4
mov $4,19
mov $5,69
mov $6,265
mov $7,929
mov $8,3356
mov $9,11626
mov $10,41117
sub $0,4
lpb $0
  mov $12,2592
  mul $12,$1
  add $12,44064
  mul $12,$1
  add $12,248832
  mul $12,$1
  add $12,466560
  mul $2,$12
  rol $2,9
  mov $12,1776
  mul $12,$1
  add $12,34272
  mul $12,$1
  add $12,220632
  mul $12,$1
  add $12,473616
  mov $11,$2
  mul $11,$12
  mov $12,-2818
  mul $12,$1
  sub $12,65322
  mul $12,$1
  sub $12,504092
  mul $12,$1
  sub $12,1295376
  add $10,$11
  mov $11,$3
  mul $11,$12
  mov $12,-1631
  mul $12,$1
  sub $12,45237
  mul $12,$1
  sub $12,415444
  mul $12,$1
  sub $12,1262640
  add $10,$11
  mov $11,$4
  mul $11,$12
  mov $12,966
  mul $12,$1
  add $12,28293
  mul $12,$1
  add $12,274617
  mul $12,$1
  add $12,882360
  add $10,$11
  mov $11,$5
  mul $11,$12
  mov $12,399
  mul $12,$1
  add $12,13848
  mul $12,$1
  add $12,159429
  mul $12,$1
  add $12,608940
  add $10,$11
  mov $11,$6
  mul $11,$12
  mov $12,-210
  mul $12,$1
  sub $12,7578
  mul $12,$1
  sub $12,90708
  mul $12,$1
  sub $12,360000
  add $10,$11
  mov $11,$7
  mul $11,$12
  mov $12,-3
  mul $12,$1
  sub $12,225
  mul $12,$1
  sub $12,4440
  mul $12,$1
  sub $12,26280
  add $10,$11
  mov $11,$8
  mul $11,$12
  mov $12,10
  mul $12,$1
  add $12,453
  mul $12,$1
  add $12,6821
  mul $12,$1
  add $12,34140
  add $10,$11
  mov $11,$9
  mul $11,$12
  mov $12,$1
  add $12,48
  mul $12,$1
  add $12,767
  mul $12,$1
  add $12,4080
  add $10,$11
  div $10,$12
  sub $0,1
  add $1,1
lpe
mov $0,$2
