; A114210: Number of derangements of [n] avoiding the patterns 123 and 231.
; Submitted by loader3229
; 0,1,1,3,4,7,8,14,13,23,20,34,28,48,37,64,48,82,60,103,73,126,88,151,104,179,121,209,140,241,160,276,181,313,204,352,228,394,253,438,280,484,308,533,337,584,368,637,400,693,433,751,468,811,504,874,541,939
; Formula: a(n) = b(n-1), b(n) = c(n-2), b(7) = 14, b(6) = 8, b(5) = 7, b(4) = 4, b(3) = 3, b(2) = 1, b(1) = 1, b(0) = 0, c(n) = d(n-1), c(7) = 23, c(6) = 13, c(5) = 14, c(4) = 8, c(3) = 7, c(2) = 4, c(1) = 3, c(0) = 1, d(n) = e(n-2), d(7) = 20, d(6) = 23, d(5) = 13, d(4) = 14, d(3) = 8, d(2) = 7, d(1) = 4, d(0) = 3, e(n) = f(n-1), e(7) = 28, e(6) = 34, e(5) = 20, e(4) = 23, e(3) = 13, e(2) = 14, e(1) = 8, e(0) = 7, f(n) = f1(n-1), f(7) = 48, f(6) = 28, f(5) = 34, f(4) = 20, f(3) = 23, f(2) = 13, f(1) = 14, f(0) = 8, f1(n) = 3*e(n-1)+2*f(n-1)-f1(n-1)-2*c(n-1)-3*d(n-1)+c(n-2)+c(n-3), f1(8) = 64, f1(7) = 37, f1(6) = 48, f1(5) = 28, f1(4) = 34, f1(3) = 20, f1(2) = 23, f1(1) = 13, f1(0) = 14

#offset 1

mov $2,1
mov $3,1
mov $4,3
mov $5,4
mov $6,7
mov $7,8
mov $8,14
sub $0,1
lpb $0
  rol $1,8
  add $8,$1
  sub $8,$2
  sub $8,$2
  mov $9,$3
  mul $9,-3
  sub $0,1
  add $8,$9
  mov $9,$5
  mul $9,3
  add $8,$9
  add $8,$6
  add $8,$6
  sub $8,$7
lpe
mov $0,$1
