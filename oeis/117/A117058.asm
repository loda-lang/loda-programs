; A117058: Palindromes for which the product of the digits is prime.
; Submitted by loader3229
; 2,3,5,7,121,131,151,171,11211,11311,11511,11711,1112111,1113111,1115111,1117111,111121111,111131111,111151111,111171111,11111211111,11111311111,11111511111,11111711111,1111112111111,1111113111111,1111115111111,1111117111111,111111121111111,111111131111111,111111151111111,111111171111111,11111111211111111,11111111311111111,11111111511111111,11111111711111111,1111111112111111111,1111111113111111111,1111111115111111111,1111111117111111111,111111111121111111111,111111111131111111111
; Formula: a(n) = f2(n-1), b(n) = 1000*f3(n-2)+110*f5(n-1)-110*f4(n-1)-1000*f3(n-1)+b(n-1), b(9) = 111131111, b(8) = 111121111, b(7) = 1117111, b(6) = 1115111, b(5) = 1113111, b(4) = 1112111, b(3) = 11711, b(2) = 11511, b(1) = 11311, b(0) = 11211, c(n) = 110, c(9) = 110, c(8) = 110, c(7) = 110, c(6) = 110, c(5) = 110, c(4) = 110, c(3) = 110, c(2) = 110, c(1) = 110, c(0) = 0, f2(n) = f3(n-1), f2(9) = 11311, f2(8) = 11211, f2(7) = 171, f2(6) = 151, f2(5) = 131, f2(4) = 121, f2(3) = 7, f2(2) = 5, f2(1) = 3, f2(0) = 2, f3(n) = f4(n-3), f3(9) = 11511, f3(8) = 11311, f3(7) = 11211, f3(6) = 171, f3(5) = 151, f3(4) = 131, f3(3) = 121, f3(2) = 7, f3(1) = 5, f3(0) = 3, f4(n) = f5(n-1), f4(9) = 1113111, f4(8) = 1112111, f4(7) = 11711, f4(6) = 11511, f4(5) = 11311, f4(4) = 11211, f4(3) = 171, f4(2) = 151, f4(1) = 131, f4(0) = 121, f5(n) = b(n-3), f5(9) = 1115111, f5(8) = 1113111, f5(7) = 1112111, f5(6) = 11711, f5(5) = 11511, f5(4) = 11311, f5(3) = 11211, f5(2) = 171, f5(1) = 151, f5(0) = 131

#offset 1

mov $2,2
mov $3,3
mov $4,5
mov $5,7
mov $6,121
mov $7,131
mov $8,151
mov $9,171
mov $10,11211
sub $0,1
lpb $0
  mul $12,$13
  add $12,1000
  mul $2,$12
  rol $2,9
  mul $12,$14
  sub $12,1000
  sub $0,1
  mov $11,$2
  mul $11,$12
  mul $12,$15
  sub $12,110
  add $10,$11
  mov $11,$5
  mul $11,$12
  mul $12,$18
  add $12,110
  add $10,$11
  mov $11,$6
  mul $11,$12
  add $10,$11
  add $10,$9
lpe
mov $0,$2
