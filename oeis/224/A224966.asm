; A224966: Numbers n such that n^2+sum-of-digits(n^2) is prime.
; Submitted by win prion
; 1,4,10,16,31,32,40,41,43,62,71,76,94,95,97,98,121,142,158,163,164,166,179,188,208,211,214,227,229,259,260,265,284,301,313,317,320,328,331,340,352,355,356,365,380,382,386,392,397,401,418,424,425,431,436,439,440,449,455,467,497,499,500,502,515,541,554,560,563,571,572,622,634,635,641,647,659,671,676,685

#offset 1

mov $2,$0
sub $0,1
add $2,1
pow $2,2
lpb $2
  mov $3,$1
  add $3,1
  seq $3,171613 ; a(n) = n^2 + sum of the digits of n^2.
  seq $3,10051 ; Characteristic function of primes: 1 if n is prime, else 0.
  sub $0,$3
  add $1,1
  mov $4,$0
  max $4,0
  equ $4,$0
  mul $2,$4
  trn $2,1
lpe
mov $0,$1
