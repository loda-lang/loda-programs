; A001267: One-half the number of permutations of length n with exactly 3 rising or falling successions.
; Submitted by loader3229
; 0,0,0,0,1,8,60,444,3599,32484,325322,3582600,43029621,559774736,7841128936,117668021988,1883347579515,32026067455084,576605574327174,10957672400252944,219190037987444577,4603645435776504120,101292568208941883236,2329975164242735146316,55924547283281557336551,1398226335773379499139508,36356465154096938619490370,981686253775053180950070744,27488752011732189047104113869,797213636021834746409338684704,23917481112812117343442091665632,741471844786175262592958074065140
; Formula: a(n) = truncate(b(n)/2), b(n) = c(n-2), b(8) = 7198, b(7) = 888, b(6) = 120, b(5) = 16, b(4) = 2, b(3) = 0, b(2) = 0, b(1) = 0, b(0) = 0, c(n) = d(n-1), c(8) = 650644, c(7) = 64968, c(6) = 7198, c(5) = 888, c(4) = 120, c(3) = 16, c(2) = 2, c(1) = 0, c(0) = 0, d(n) = e(n-1), d(8) = 7165200, d(7) = 650644, d(6) = 64968, d(5) = 7198, d(4) = 888, d(3) = 120, d(2) = 16, d(1) = 2, d(0) = 0, e(n) = f(n-1), e(8) = 86059242, e(7) = 7165200, e(6) = 650644, e(5) = 64968, e(4) = 7198, e(3) = 888, e(2) = 120, e(1) = 16, e(0) = 2, f(n) = f1(n-1), f(8) = 1119549472, f(7) = 86059242, f(6) = 7165200, f(5) = 650644, f(4) = 64968, f(3) = 7198, f(2) = 888, f(1) = 120, f(0) = 16, f1(n) = f2(n-1), f1(8) = 15682257872, f1(7) = 1119549472, f1(6) = 86059242, f1(5) = 7165200, f1(4) = 650644, f1(3) = 64968, f1(2) = 7198, f1(1) = 888, f1(0) = 120, f2(n) = truncate((c(n-1)*((n-1)*(431945*n-1816286)-8883329)+c(n-2)*((n-1)*(-107111*n-2750873)-6790455)+c(n-3)*((n-1)*(-247624*n-853913)-1212578)+d(n-1)*((n-1)*(446258*n+4183448)+13395575)+e(n-1)*((n-1)*(-353054*n-226333)+4334989)+f(n-1)*((n-1)*(-339147*n-2143469)-6132517)+f1(n-1)*((n-1)*(168733*n+1224380)-89367)+f2(n-1)*(-33114*n+1245231))/135619), f2(9) = 3766695159030, f2(8) = 235336043976, f2(7) = 15682257872, f2(6) = 1119549472, f2(5) = 86059242, f2(4) = 7165200, f2(3) = 650644, f2(2) = 64968, f2(1) = 7198, f2(0) = 888

mov $6,2
mov $7,16
mov $8,120
mov $9,888
lpb $0
  mov $11,-247624
  mul $11,$1
  sub $11,1101537
  mul $11,$1
  sub $11,1212578
  mul $2,$11
  rol $2,8
  mov $11,-107111
  mul $11,$1
  sub $11,2857984
  mul $11,$1
  sub $11,6790455
  mov $10,$2
  mul $10,$11
  mov $11,431945
  mul $11,$1
  sub $11,1384341
  mul $11,$1
  sub $11,8883329
  add $9,$10
  mov $10,$3
  mul $10,$11
  mov $11,446258
  mul $11,$1
  add $11,4629706
  mul $11,$1
  add $11,13395575
  add $9,$10
  mov $10,$4
  mul $10,$11
  mov $11,-353054
  mul $11,$1
  sub $11,579387
  mul $11,$1
  add $11,4334989
  add $9,$10
  mov $10,$5
  mul $10,$11
  mov $11,-339147
  mul $11,$1
  sub $11,2482616
  mul $11,$1
  sub $11,6132517
  add $9,$10
  mov $10,$6
  mul $10,$11
  mov $11,168733
  mul $11,$1
  add $11,1393113
  mul $11,$1
  sub $11,89367
  add $9,$10
  mov $10,$7
  mul $10,$11
  mov $11,-33114
  mul $11,$1
  add $11,1212117
  add $9,$10
  mov $10,$8
  mul $10,$11
  add $9,$10
  div $9,135619
  sub $0,1
  add $1,1
lpe
mov $0,$2
div $0,2
