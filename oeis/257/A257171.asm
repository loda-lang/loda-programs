; A257171: Sum of numbers on n-th segment of Ulam's spiral.
; Submitted by loader3229
; 1,5,9,13,27,36,62,78,120,145,207,243,329,378,492,556,702,783,965,1065,1287,1408,1674,1818,2132,2301,2667,2863,3285,3510,3992,4248,4794,5083,5697,6021,6707,7068,7830,8230,9072,9513,10439,10923,11937,12466,13572,14148,15350,15975,17277,17953,19359,20088,21602,22386,24012,24853,26595,27495,29357,30318,32304,33328,35442,36531,38777,39933,42315,43540,46062,47358,50024,51393,54207,55651,58617,60138,63260,64860
; Formula: a(n) = b(n-2), a(3) = 13, a(2) = 9, a(1) = 5, a(0) = 1, b(n) = truncate(((n-1)*(6219*n+11862)+b(n-1)*((n-1)*(553*n-1620)-728)+b(n-2)*((n-1)*(-661*n-3704)+1456)+b(n-3)*((n-1)*(-553*n-1806)+2912))/((n-1)*(-661*n+154)+280)), b(4) = 62, b(3) = 36, b(2) = 27, b(1) = 13, b(0) = 9

mov $2,1
mov $3,5
mov $4,9
lpb $0
  mov $6,-553
  mul $6,$1
  sub $6,2359
  mul $6,$1
  add $6,2912
  mul $2,$6
  rol $2,3
  mov $6,-661
  mul $6,$1
  sub $6,4365
  mul $6,$1
  add $6,1456
  mov $5,$2
  mul $5,$6
  mov $6,553
  mul $6,$1
  sub $6,1067
  mul $6,$1
  sub $6,728
  add $4,$5
  mov $5,$3
  mul $5,$6
  mov $6,6219
  mul $6,$1
  add $6,18081
  mul $6,$1
  add $4,$5
  add $4,$6
  mov $6,-661
  mul $6,$1
  sub $6,507
  mul $6,$1
  add $6,280
  sub $0,1
  add $1,1
  div $4,$6
lpe
mov $0,$2
