; A257171: Sum of numbers on n-th segment of Ulam's spiral.
; Submitted by loader3229
; 1,5,9,13,27,36,62,78,120,145,207,243,329,378,492,556,702,783,965,1065,1287,1408,1674,1818,2132,2301,2667,2863,3285,3510,3992,4248,4794,5083,5697,6021,6707,7068,7830,8230,9072,9513,10439,10923,11937,12466,13572,14148,15350,15975,17277,17953,19359,20088,21602,22386,24012,24853,26595,27495,29357,30318,32304,33328,35442,36531,38777,39933,42315,43540,46062,47358,50024,51393,54207,55651,58617,60138,63260,64860
; Formula: a(n) = b(n-4), a(9) = 145, a(8) = 120, a(7) = 78, a(6) = 62, a(5) = 36, a(4) = 27, a(3) = 13, a(2) = 9, a(1) = 5, a(0) = 1, b(n) = c(n-1), b(8) = 329, b(7) = 243, b(6) = 207, b(5) = 145, b(4) = 120, b(3) = 78, b(2) = 62, b(1) = 36, b(0) = 27, c(n) = d(n-1), c(8) = 378, c(7) = 329, c(6) = 243, c(5) = 207, c(4) = 145, c(3) = 120, c(2) = 78, c(1) = 62, c(0) = 36, d(n) = e(n-1), d(8) = 492, d(7) = 378, d(6) = 329, d(5) = 243, d(4) = 207, d(3) = 145, d(2) = 120, d(1) = 78, d(0) = 62, e(n) = f(n-1), e(8) = 556, e(7) = 492, e(6) = 378, e(5) = 329, e(4) = 243, e(3) = 207, e(2) = 145, e(1) = 120, e(0) = 78, f(n) = 3*b(n-1)+3*e(n-1)-b(n-3)-3*c(n-1)-3*d(n-1)+b(n-2)+f(n-1), f(9) = 783, f(8) = 702, f(7) = 556, f(6) = 492, f(5) = 378, f(4) = 329, f(3) = 243, f(2) = 207, f(1) = 145, f(0) = 120

mov $1,1
mov $2,5
mov $3,9
mov $4,13
mov $5,27
mov $6,36
mov $7,62
mov $8,78
mov $9,120
lpb $0
  mov $1,0
  rol $1,9
  sub $9,$2
  add $9,$3
  mov $10,$4
  mul $10,3
  sub $0,1
  add $9,$10
  mov $10,$5
  mul $10,-3
  add $9,$10
  mov $10,$6
  mul $10,-3
  add $9,$10
  mov $10,$7
  mul $10,3
  add $9,$10
  add $9,$8
lpe
mov $0,$1
