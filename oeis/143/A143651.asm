; A143651: (0, 1, 2, 3, 2^2, 5, 2*3, 7, 2^3, 3^2, 2*5, 11, 2^2*3, 13, ...) becomes (0^1 + 2, 3^2 + 2, 5^2 + 3, 7^2 + 3, 3^2 + 2, 5^11 + 2, 2^3 + 13, ...).
; Submitted by loader3229
; 2,11,28,52,11,48828127,21,131,29,292,524290,35,60,532,245,8195,11,3219905755813179726837609,274,35,138,78127,10,1388,1594325,284,15,1851,1333,48,2213,2189,34,129140165,8245,11,48828127,2190,390,3483,304
; Formula: a(n) = truncate((-(A348477(max(3*n-3,1))==1)+A348477(max(3*n-3,1)))^A348477(3*n-2))+A348477(3*n-1)

#offset 1

sub $0,1
mul $0,3
mov $1,$0
mov $2,$0
max $0,1
seq $0,348477 ; Drop all 1 but the first 1 in A035306.
add $1,1
seq $1,348477 ; Drop all 1 but the first 1 in A035306.
add $2,2
seq $2,348477 ; Drop all 1 but the first 1 in A035306.
mov $3,$0
equ $3,1
sub $0,$3
pow $0,$1
add $0,$2
