; A181385: Maximal number that can be obtained by reversing n in an integer base.
; Submitted by loader3229
; 0,1,2,3,4,7,9,13,16,21,25,31,36,43,49,57,64,73,81,91,100,111,121,133,144,157,169,183,196,211,225,241,256,273,289,307,324,343,361,381,400,421,441,463,484,507,529,553,576,601,625,651,676,703,729,757,784,813,841,871,900,931,961,993,1024,1057,1089,1123,1156,1191,1225,1261,1296,1333,1369,1407,1444,1483,1521,1561
; Formula: a(n) = b(n-3), a(4) = 4, a(3) = 3, a(2) = 2, a(1) = 1, a(0) = 0, b(n) = truncate((13*b(n-3)*(n-2)-2*b(n-2)*(n-1)-5*b(n-4)*(n-3)+b(n-1)*(-13*n+28))/(-7*n+15)), b(6) = 21, b(5) = 16, b(4) = 13, b(3) = 9, b(2) = 7, b(1) = 4, b(0) = 3

mov $3,1
mov $4,2
mov $5,3
lpb $0
  mov $7,$1
  mul $7,-5
  add $7,10
  mul $2,$7
  rol $2,4
  mov $7,$1
  mul $7,13
  sub $7,13
  mov $6,$2
  mul $6,$7
  mov $7,$1
  mul $7,-2
  add $5,$6
  mov $6,$3
  mul $6,$7
  mov $7,$1
  mul $7,-13
  add $7,15
  add $5,$6
  mov $6,$4
  mul $6,$7
  mov $7,$1
  mul $7,-7
  add $7,8
  add $5,$6
  div $5,$7
  sub $0,1
  add $1,1
lpe
mov $0,$2
