; A171447: Numbers k such that k+1 is prime, and (k+1)^3-k^3 is prime.
; Submitted by [SG]KidDoesCrunch
; 1,2,4,6,10,28,30,42,52,58,66,88,108,136,156,172,196,238,312,346,352,388,448,520,546,556,570,576,598,612,646,676,732,742,786,856,906,940,976,1050,1068,1092,1152,1192,1222,1228,1236,1302,1432,1452,1458,1480,1570,1582,1596,1600,1666,1722,1732,1782,1830,1900,1932,1948,1950,1998,2062,2082,2086,2110,2160,2242,2310,2422,2446,2530,2578,2608,2706,2712

#offset 1

mov $3,1
mov $4,$0
sub $0,1
pow $4,2
lpb $4
  mov $5,$3
  seq $5,40 ; The prime numbers.
  mov $1,$5
  mul $1,3
  add $3,1
  mul $5,$1
  sub $5,$1
  add $5,1
  seq $5,10051 ; Characteristic function of primes: 1 if n is prime, else 0.
  sub $0,$5
  mov $2,$0
  max $2,0
  equ $2,$0
  mul $4,$2
  trn $4,1
lpe
mov $0,$1
sub $0,6
div $0,3
add $0,1
