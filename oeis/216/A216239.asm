; A216239: Total number of inversions in all derangement permutations of [n].
; Submitted by loader3229
; 0,0,1,4,34,260,2275,21784,228676,2614296,32372805,431971100,6182204006,94495208444,1536740258599,26498747241680,482990781797000,9279452377499504,187442757190618761,3971627425918503156,88084356619901450410,2040857112777615061300,49309488583626153000811,1240317988516857705984584,32430550856300202766063564,880189877346212248093601800,24764196884082140170836626125,721376233447598917897056726924,21731417305617163144423134161646,676291053396959070673004676243116,21719920684849030193598342568080815
; Formula: a(n) = b(n-2), a(3) = 4, a(2) = 1, a(1) = 0, a(0) = 0, b(n) = truncate((b(n-1)*((n-1)*(23*n-21)+4)+b(n-2)*((n-1)*((n-1)*(-22*n-40)-12)+48)+b(n-3)*((n-1)*((n-1)*(-22*n-85)-167)-82))/n), b(4) = 2275, b(3) = 260, b(2) = 34, b(1) = 4, b(0) = 1

mov $4,1
lpb $0
  mov $6,-22
  mul $6,$1
  sub $6,107
  mul $6,$1
  sub $6,167
  mul $6,$1
  sub $6,82
  mul $2,$6
  rol $2,3
  mov $6,-22
  mul $6,$1
  sub $6,62
  mul $6,$1
  sub $6,12
  mul $6,$1
  add $6,48
  mov $5,$2
  mul $5,$6
  mov $6,23
  mul $6,$1
  add $6,2
  mul $6,$1
  add $6,4
  add $4,$5
  mov $5,$3
  mul $5,$6
  mov $6,$1
  add $6,1
  add $4,$5
  div $4,$6
  sub $0,1
  add $1,1
lpe
mov $0,$2
