; A165537: Number of permutations of length n which avoid the patterns 4213 and 2143.
; Submitted by loader3229
; 1,1,2,6,22,88,366,1556,6720,29396,129996,580276,2611290,11834116,53963190,247414100,1139860150,5274189156,24498929370,114199276476,534028437710,2504543749532,11777411979050,55518128412708,262301674637860,1241868060613788,5891050888101112,27995910970158108,133268783605730774,635399515622237548,3033940330121284634,14506743281153923212,69454444046385293664,332939197257047868276,1597845794233980977164,7676840935023550353268,36921796493911298451190,177751188852863578409076,856544956249907535913666
; Formula: a(n) = b(n-1), b(n) = c(n-2), b(7) = 1556, b(6) = 366, b(5) = 88, b(4) = 22, b(3) = 6, b(2) = 2, b(1) = 1, b(0) = 1, c(n) = d(n-1), c(7) = 29396, c(6) = 6720, c(5) = 1556, c(4) = 366, c(3) = 88, c(2) = 22, c(1) = 6, c(0) = 2, d(n) = e(n-1), d(7) = 129996, d(6) = 29396, d(5) = 6720, d(4) = 1556, d(3) = 366, d(2) = 88, d(1) = 22, d(0) = 6, e(n) = f(n-1), e(7) = 580276, e(6) = 129996, e(5) = 29396, e(4) = 6720, e(3) = 1556, e(2) = 366, e(1) = 88, e(0) = 22, f(n) = f1(n-1), f(7) = 2611290, f(6) = 580276, f(5) = 129996, f(4) = 29396, f(3) = 6720, f(2) = 1556, f(1) = 366, f(0) = 88, f1(n) = truncate((40*n*c(n-3)+c(n-1)*(612*n+896)+c(n-2)*(-268*n-152)+d(n-1)*(-672*n-1616)+e(n-1)*(392*n+1316)+f(n-1)*(-121*n-522)+f1(n-1)*(18*n+94))/(n+6)), f1(8) = 53963190, f1(7) = 11834116, f1(6) = 2611290, f1(5) = 580276, f1(4) = 129996, f1(3) = 29396, f1(2) = 6720, f1(1) = 1556, f1(0) = 366

#offset 1

mov $2,1
mov $3,1
mov $4,2
mov $5,6
mov $6,22
mov $7,88
mov $8,366
sub $0,1
lpb $0
  mov $10,40
  mul $10,$1
  add $10,40
  mul $2,$10
  rol $2,7
  mov $10,-268
  mul $10,$1
  sub $10,420
  mov $9,$2
  mul $9,$10
  mov $10,612
  mul $10,$1
  add $10,1508
  add $8,$9
  mov $9,$3
  mul $9,$10
  mov $10,-672
  mul $10,$1
  sub $10,2288
  add $8,$9
  mov $9,$4
  mul $9,$10
  mov $10,392
  mul $10,$1
  add $10,1708
  add $8,$9
  mov $9,$5
  mul $9,$10
  mov $10,-121
  mul $10,$1
  sub $10,643
  add $8,$9
  mov $9,$6
  mul $9,$10
  mov $10,18
  mul $10,$1
  add $10,112
  add $8,$9
  mov $9,$7
  mul $9,$10
  mov $10,$1
  add $10,7
  add $8,$9
  div $8,$10
  sub $0,1
  add $1,1
lpe
mov $0,$2
