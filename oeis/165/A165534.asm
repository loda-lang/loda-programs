; A165534: Number of permutations of length n that avoid the patterns 1243 and 2431.
; Submitted by loader3229
; 1,2,6,22,88,363,1507,6241,25721,105485,430767,1752945,7113095,28797292,116368938,469531170,1892133076,7617145998,30638026074,123145086046,494663313342,1985995240464,7969941119476,31971818819844,128214549263032,514024475597524,2060262910065740,8255954041620260,33077227352665956,132500624336147295,530691534207329339,2125245322390667449,8509909701589556721,34071816666157992953,136403298374142890155,546031746579866205541,2185637046734801288491,8747995978018019183423,35011632752454866032521
; Formula: a(n) = b(n-1), b(n) = c(n-4), b(6) = 1507, b(5) = 363, b(4) = 88, b(3) = 22, b(2) = 6, b(1) = 2, b(0) = 1, c(n) = truncate((c(n-1)*((n-1)*(59490*n+761340)+2812164)+c(n-2)*((n-1)*(-315041*n-3239954)-9922800)+c(n-3)*((n-1)*(751840*n+6029392)+15190176)+c(n-4)*((n-1)*(-775632*n-4762536)-9796260)+c(n-5)*((n-1)*(283520*n+1276448)+1702032)+530304)/((n-1)*(4177*n+64690)+283608)), c(8) = 7113095, c(7) = 1752945, c(6) = 430767, c(5) = 105485, c(4) = 25721, c(3) = 6241, c(2) = 1507, c(1) = 363, c(0) = 88

#offset 1

mov $2,1
mov $3,2
mov $4,6
mov $5,22
mov $6,88
sub $0,1
lpb $0
  mov $8,283520
  mul $8,$1
  add $8,1559968
  mul $8,$1
  add $8,1702032
  mul $2,$8
  rol $2,5
  mov $8,-775632
  mul $8,$1
  sub $8,5538168
  mul $8,$1
  sub $8,9796260
  mov $7,$2
  mul $7,$8
  mov $8,751840
  mul $8,$1
  add $8,6781232
  mul $8,$1
  add $8,15190176
  add $6,$7
  mov $7,$3
  mul $7,$8
  mov $8,-315041
  mul $8,$1
  sub $8,3554995
  mul $8,$1
  sub $8,9922800
  add $6,$7
  mov $7,$4
  mul $7,$8
  mov $8,59490
  mul $8,$1
  add $8,820830
  mul $8,$1
  add $8,2812164
  add $6,$7
  mov $7,$5
  mul $7,$8
  add $6,$7
  add $6,530304
  mov $8,4177
  mul $8,$1
  add $8,68867
  mul $8,$1
  add $8,283608
  sub $0,1
  add $1,1
  div $6,$8
lpe
mov $0,$2
