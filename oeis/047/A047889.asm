; A047889: Number of permutations in S_n with longest increasing subsequence of length <= 4.
; Submitted by loader3229
; 1,1,2,6,24,119,694,4582,33324,261808,2190688,19318688,178108704,1705985883,16891621166,172188608886,1801013405436,19274897768196,210573149141896,2343553478425816,26525044132374656,304856947930144656,3553266124166899872,41952101272633801376,501228159413699278144,6054582181256780696704,73884542290182291304704,910193895170720544149248,11312196463176760501700224,141756115346271817822954691,1790158821899427408246810846,22771425534677098061041394646,291642099099498112188821162588
; Formula: a(n) = b(n-1), a(2) = 2, a(1) = 1, a(0) = 1, b(n) = truncate((b(n-1)*((n-1)*((n-1)*(20*n+162)+510)+428)+b(n-2)*((n-1)*((n-1)*(-64*n-192)-320)-128))/((n-1)*((n-1)*(n+15)+85)+150)), b(2) = 6, b(1) = 2, b(0) = 1

mov $2,1
mov $3,1
lpb $0
  mov $5,-64
  mul $5,$1
  sub $5,256
  mul $5,$1
  sub $5,320
  mul $5,$1
  sub $5,128
  mul $2,$5
  rol $2,2
  mov $5,20
  mul $5,$1
  add $5,182
  mul $5,$1
  add $5,510
  mul $5,$1
  add $5,428
  mov $4,$2
  mul $4,$5
  mov $5,$1
  add $5,16
  mul $5,$1
  add $5,85
  mul $5,$1
  add $5,150
  add $3,$4
  div $3,$5
  sub $0,1
  add $1,1
lpe
mov $0,$2
