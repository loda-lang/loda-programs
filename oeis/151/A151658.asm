; A151658: Number of permutations of 8 indistinguishable copies of 1..n with exactly 2 adjacent element pairs in decreasing order.
; Submitted by loader3229
; 0,784,73200,3884640,182107936,8277726192,373396825488,16812327355840,756652360885056,34050346486482384,1532275508306401840,68952496159266606624,3102863293076011859040,139628857613659024861360,6283298684030318768507856,282748441663401954476011392,12723679883325096254850767488,572565594830680434528663653520,25765451768153306736298815425136,1159445329574242033070717078616544,52175039830910481965269910397636000,2347876792391629515399804620196561264,105654455657629532249674964659611723280
; Formula: a(n) = b(n-1), b(n) = c(n-2), b(3) = 3884640, b(2) = 73200, b(1) = 784, b(0) = 0, c(n) = truncate((c(n-1)*((n-1)*((n-1)*(309760*n+938432)+1559000)+615993)+c(n-2)*((n-1)*((n-1)*(-2585088*n-10254528)-18359928)-8088525)+c(n-3)*((n-1)*((n-1)*(2280960*n+13296960)+34826760)+25569675))/((n-1)*((n-1)*(5632*n+15936)+25960)+9975)), c(4) = 373396825488, c(3) = 8277726192, c(2) = 182107936, c(1) = 3884640, c(0) = 73200

#offset 1

mov $3,784
mov $4,73200
sub $0,1
lpb $0
  mov $6,2280960
  mul $6,$1
  add $6,15577920
  mul $6,$1
  add $6,34826760
  mul $6,$1
  add $6,25569675
  mul $2,$6
  rol $2,3
  mov $6,-2585088
  mul $6,$1
  sub $6,12839616
  mul $6,$1
  sub $6,18359928
  mul $6,$1
  sub $6,8088525
  mov $5,$2
  mul $5,$6
  mov $6,309760
  mul $6,$1
  add $6,1248192
  mul $6,$1
  add $6,1559000
  mul $6,$1
  add $6,615993
  add $4,$5
  mov $5,$3
  mul $5,$6
  mov $6,5632
  mul $6,$1
  add $6,21568
  mul $6,$1
  add $6,25960
  mul $6,$1
  add $6,9975
  add $4,$5
  div $4,$6
  sub $0,1
  add $1,1
lpe
mov $0,$2
