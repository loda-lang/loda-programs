; A122751: Number of essentially different semi-magic squares of order 3 with semimagic sum n.
; Submitted by loader3229
; 1,2,7,14,29,49,83,127,192,273,384,519,694,902,1162,1466,1835,2260,2765,3340,4011,4767,5637,6609,7714,8939,10318,11837,13532,15388,17444,19684,22149,24822,27747,30906,34345,38045,42055,46355,50996,55957,61292,66979,73074,79554,86478,93822,101647,109928,118729,128024,137879,148267,159257,170821,183030,195855,209370,223545,238456,254072,270472,287624,305609,324394,344063,364582,386037,408393,431739,456039,481384,507737,535192,563711,593390,624190,656210,689410
; Formula: a(n) = min(n-3,(n-3)%2)*c(n-3)+b(n-3), b(n) = truncate((b(n-2)*(d(n-2)*(3*d(n-2)+11)+13)+c(n-2)*(d(n-2)*(3*d(n-2)+8)+8))/(d(n-2)*(3*d(n-2)+5)+3)), b(5) = 29, b(4) = 29, b(3) = 7, b(2) = 7, b(1) = 1, b(0) = 1, c(n) = truncate((b(n-2)*(12*d(n-2)+32)+c(n-2)*(d(n-2)*(-3*d(n-2)-2)+10))/(d(n-2)*(3*d(n-2)+8)+6)), c(5) = 20, c(4) = 20, c(3) = 7, c(2) = 7, c(1) = 1, c(0) = 1, d(n) = d(n-2)+1, d(5) = 2, d(4) = 2, d(3) = 1, d(2) = 1, d(1) = 0, d(0) = 0

#offset 3

mov $1,1
mov $2,1
sub $0,3
lpb $0
  sub $0,2
  mov $4,3
  mul $4,$3
  add $4,11
  mul $4,$3
  add $4,13
  mov $5,3
  mul $5,$3
  add $5,8
  mul $5,$3
  add $5,8
  mul $5,$2
  mov $6,12
  mul $6,$3
  add $6,32
  mul $6,$1
  mov $7,-3
  mul $7,$3
  sub $7,2
  mul $7,$3
  add $7,10
  mov $8,3
  mul $8,$3
  add $8,5
  mul $8,$3
  add $8,3
  mov $9,3
  mul $9,$3
  add $9,8
  mul $9,$3
  add $9,6
  mul $1,$4
  add $1,$5
  div $1,$8
  mul $2,$7
  add $2,$6
  div $2,$9
  add $3,1
lpe
mul $0,$2
add $0,$1
